<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <meta name="theme-color" content="#0f766e">
  <title>Internal Audit and Governance – Fayoum</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <style>
    /* ── أساسيات التصميم ── */
    body { 
      font-family: 'Cairo', sans-serif; 
      background-color: #f8fafc; 
      -webkit-tap-highlight-color: transparent;
    }
    
    .theme-gradient { 
      background: linear-gradient(135deg, #0f766e 0%, #115e59 100%); 
    }
    
    /* أنيميشن الظهور السلس */
    .fade-in { 
      animation: fadeIn 0.5s ease-out; 
    }
    @keyframes fadeIn { 
      from { opacity: 0; transform: translateY(10px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    
    /* إخفاء العناصر */
    .hidden-section {
      display: none !important;
    }

    /* تأثيرات الأزرار */
    button:active {
      transform: scale(0.98);
      opacity: 0.9;
    }

    /* تحسينات الموبايل */
    @media (max-width: 768px) {
      header { padding-top: 32px; padding-bottom: 64px; }
      header h1 { font-size: 1.75rem; }
      main { margin-top: -48px; }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">

  <div id="landing-page" class="flex-grow flex flex-col fade-in">
    <header class="theme-gradient text-white pb-20 pt-12 shadow-lg relative overflow-hidden">
      <div class="container mx-auto px-6 text-center relative z-10">
        <div class="bg-white/10 p-8 rounded-full inline-block mb-6 backdrop-blur-sm border border-white/20 shadow-2xl">
          <i data-lucide="landmark" class="w-24 h-24 text-teal-50"></i>
        </div>
        <h1 class="text-4xl md:text-5xl font-extrabold mb-3 tracking-wide drop-shadow-md">
          إدارة المراجعة الداخلية والحوكمة
        </h1>
        <p class="text-lg text-teal-100 font-medium opacity-90">
          مديرية الشؤون الصحية بالفيوم
        </p>
      </div>
      <div class="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
    </header>

    <main class="container mx-auto px-4 -mt-12 mb-10 flex-grow relative z-20">
      
      <div class="bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center max-w-4xl mx-auto border border-slate-100 mb-8">
        <h2 class="text-2xl font-bold text-slate-800 mb-4 flex justify-center items-center gap-2">
          <i data-lucide="shield-check" class="text-teal-600"></i> البوابة الرقمية الموحدة
        </h2>
        <p class="text-slate-600 text-lg leading-relaxed mb-6 max-w-2xl mx-auto">
          منصة مركزية لإدارة تكليفات المراجعين الماليين والإداريين بمديرية الشؤون الصحية بالفيوم.
        </p>
        <div class="border-t border-slate-100 pt-6 mt-2 max-w-2xl mx-auto">
          <p class="text-[11px] md:text-xs text-slate-400 font-medium leading-loose">
            <span class="font-bold text-slate-500">تنويه:</span> يقتصر الاستخدام على أعضاء إدارة المراجعة الداخلية والحوكمة المكلفين رسميًا.
          </p>
        </div>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto opacity-95">
        
        <button onclick="navigate('main')" class="bg-white p-6 rounded-xl shadow-md text-center border-b-4 border-teal-600 hover:scale-105 transition-transform group">
          <i data-lucide="bar-chart-2" class="w-8 h-8 text-teal-600 mx-auto mb-3"></i>
          <span class="text-base font-bold text-slate-700">Dashboard</span>
        </button>
        
        <button onclick="navigate('main')" class="bg-white p-6 rounded-xl shadow-md text-center border-b-4 border-blue-500 hover:scale-105 transition-transform group">
          <i data-lucide="briefcase" class="w-8 h-8 text-blue-500 mx-auto mb-3"></i>
          <span class="text-base font-bold text-slate-700">الخدمات</span>
        </button>
        
        <button onclick="navigate('main')" class="bg-white p-6 rounded-xl shadow-md text-center border-b-4 border-violet-500 hover:scale-105 transition-transform group">
          <i data-lucide="users" class="w-8 h-8 text-violet-500 mx-auto mb-3"></i>
          <span class="text-base font-bold text-slate-700">الموظفين</span>
        </button>
        
        <button onclick="navigate('admin')" class="bg-white p-6 rounded-xl shadow-md text-center border-b-4 border-red-500 hover:scale-105 transition-transform group">
          <i data-lucide="settings" class="w-8 h-8 text-red-500 mx-auto mb-3"></i>
          <span class="text-base font-bold text-slate-700">الإدارة</span>
        </button>
      </div>
    </main>

    <footer class="bg-[#0f172a] text-white py-8 text-center border-t-4 border-teal-600 mt-auto relative z-10">
      <div class="container mx-auto px-4">
        <div class="mb-4 text-slate-500 opacity-60">
          <i data-lucide="landmark" class="w-12 h-12 mx-auto"></i>
        </div>
        <p class="text-sm md:text-base font-bold mb-3 opacity-90">
          © 2025 جميع الحقوق محفوظة - إدارة المراجعة الداخلية والحوكمة
        </p>
        <div class="text-[10px] md:text-xs text-slate-400 space-y-1 font-[sans-serif]" dir="ltr">
          <p class="tracking-wider opacity-70">MoH Fayoum Governance – Internal Access Page</p>
          <p class="tracking-wider opacity-70">Developed under Governance Supervision – Dr. MAH</p>
        </div>
      </div>
    </footer>
  </div>

  <div id="loader" class="fixed inset-0 bg-white/90 z-50 flex flex-col items-center justify-center hidden-section backdrop-blur-sm">
    <div class="w-16 h-16 border-4 border-teal-600 border-t-transparent rounded-full animate-spin mb-4"></div>
    <p class="font-bold text-teal-800 text-lg animate-pulse">جاري الانتقال...</p>
  </div>

  <script>
    // تفعيل الأيقونات
    lucide.createIcons();
    
    /**
     * دالة التوجيه المتوافقة مع Google Apps Script
     * تقوم بجلب الرابط الأساسي ثم تضيف إليه باراميتر الصفحة
     */
    function navigate(pageName) {
      // إظهار اللودر
      document.getElementById('loader').classList.remove('hidden-section');
      
      // التأكد من أننا في بيئة GAS
      if (typeof google !== 'undefined' && google.script) {
         google.script.run
           .withSuccessHandler(function(url) {
              // التوجيه للرابط الجديد
              window.top.location.href = url + "?p=" + pageName;
           })
           .withFailureHandler(function(err) {
              alert("حدث خطأ في الاتصال: " + err);
              document.getElementById('loader').classList.add('hidden-section');
           })
           .getScriptUrl();
      } else {
         // وضع احتياطي للتجربة المحلية (Local Testing)
         console.log("Dev Mode: Navigating to " + pageName);
         setTimeout(() => {
            window.location.href = pageName + ".html";
         }, 1000);
      }
    }
  </script>
</body>
</html>
