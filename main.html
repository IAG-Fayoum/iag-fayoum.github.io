<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <meta name="theme-color" content="#0f766e">
  <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙˆÙƒÙ…Ø© - Ù…Ø¯ÙŠØ±ÙŠØ© Ø§Ù„ØµØ­Ø©</title>
  
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="assets/js/api.js"></script>

  <style>
    body { font-family: 'Cairo', sans-serif; background-color: #f8fafc; }
    
    /* â”€â”€ Theme Colors â”€â”€ */
    .theme-gradient { background: linear-gradient(135deg, #0f766e 0%, #115e59 100%); }
    
    /* â”€â”€ Sidebar Navigation â”€â”€ */
    .sidebar-active { background-color: #0f766e; color: white; border-right: 4px solid #ccfbf1; }
    .sidebar-item { color: #475569; transition: all 0.2s; }
    .sidebar-item:hover { background-color: #f0fdfa; color: #0f766e; }
    
    /* â”€â”€ Utilities â”€â”€ */
    .hidden-section { display: none !important; }
    .fade-in { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    
    /* â”€â”€ Cards â”€â”€ */
    .stat-card { background: white; border-radius: 16px; padding: 24px; border: 1px solid #e2e8f0; transition: transform 0.2s; }
    .stat-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px -5px rgba(0,0,0,0.05); border-color: #0f766e; }
    
    .service-card { background: white; border: 1px solid #e2e8f0; border-radius: 16px; padding: 20px; transition: all 0.3s; display: flex; align-items: center; gap: 15px; cursor: pointer; }
    .service-card:hover { transform: translateY(-3px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); border-color: #0f766e; }
    
    .icon-box { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }

    /* Employee Stats Overview Cards */
    .overview-card { background: white; border-radius: 16px; padding: 20px; border: 1px solid #e2e8f0; transition: all 0.2s; text-align: center; }
    .overview-card:hover { transform: translateY(-3px); box-shadow: 0 8px 16px -4px rgba(0,0,0,0.08); }
    .overview-card h4 { font-size: 0.75rem; text-transform: uppercase; font-weight: 700; color: #64748b; margin-bottom: 8px; }
    .overview-card .count { font-size: 2.5rem; font-weight: 900; line-height: 1; }
    .overview-new { border-bottom: 4px solid #3b82f6; } .overview-new .count { color: #3b82f6; }
    .overview-progress { border-bottom: 4px solid #f59e0b; } .overview-progress .count { color: #f59e0b; }
    .overview-late { border-bottom: 4px solid #ef4444; } .overview-late .count { color: #ef4444; }
    .overview-done { border-bottom: 4px solid #10b981; } .overview-done .count { color: #10b981; }

    /* Tasks Styles */
    .task-card { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 16px; transition: all 0.2s; border-right: 4px solid transparent; display: flex; flex-direction: column; justify-content: space-between; height: 100%; }
    .task-card:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
    
    .task-new { border-right-color: #3b82f6; background: linear-gradient(135deg, #ffffff 0%, #eff6ff 100%); box-shadow: 0 4px 8px rgba(59, 130, 246, 0.15); }
    .task-progress { border-right-color: #f59e0b; }
    .task-late { border-right-color: #ef4444; }
    .task-done { border-right-color: #10b981; }

    .main-tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; flex-wrap: wrap; }
    .main-tab-btn { padding: 10px 20px; font-weight: 700; color: #64748b; cursor: pointer; transition: 0.2s; border-radius: 10px; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }
    .main-tab-btn:hover { background-color: #f1f5f9; color: #0f766e; }
    .main-tab-btn.active { background-color: #0f766e; color: white; box-shadow: 0 4px 8px rgba(15, 118, 110, 0.3); }

    .overdue-table { border: 2px solid #fecaca; border-radius: 12px; overflow: hidden; }
    .overdue-table thead { background-color: #fee2e2; }
    .overdue-table thead th { color: #991b1b; font-weight: 800; }
    .overdue-table tbody tr:hover { background-color: #fef2f2; }

    .history-filters { display: flex; gap: 10px; margin-bottom: 20px; align-items: center; flex-wrap: wrap; }
    .filter-label { font-weight: 700; color: #475569; font-size: 0.85rem; }
    .filter-select { border: 2px solid #e2e8f0; border-radius: 8px; padding: 6px 12px; font-weight: 600; outline: none; background: white; color: #334155; transition: 0.2s; }
    .filter-select:focus { border-color: #0f766e; }
    .filter-btn { background-color: #0f766e; color: white; padding: 6px 16px; border-radius: 8px; font-weight: 700; cursor: pointer; transition: 0.2s; }
    .filter-btn:hover { background-color: #115e59; }

    /* Mobile Bottom Navigation */
    @media (max-width: 768px) {
      .desktop-sidebar { display: none !important; }
      .bottom-nav { 
        display: flex !important; 
        position: fixed; 
        bottom: 0; 
        left: 0; 
        right: 0; 
        background: white; 
        border-top: 1px solid #e2e8f0; 
        z-index: 50;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
      }
      .bottom-nav button {
        flex: 1;
        padding: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        font-size: 0.7rem;
        font-weight: 600;
        color: #64748b;
        transition: 0.2s;
      }
      .bottom-nav button.active {
        color: #0f766e;
        background: #f0fdfa;
      }
      .main-content { padding-bottom: 80px; }
    }
    @media (min-width: 769px) {
      .bottom-nav { display: none !important; }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">

  <div id="dashboard-app" class="flex-grow flex h-screen overflow-hidden">
    
    <aside class="desktop-sidebar w-64 bg-white border-l border-slate-200 flex flex-col shadow-lg z-20 shrink-0">
      <div class="p-6 text-center border-b border-slate-100">
        <div class="w-16 h-16 bg-teal-50 text-teal-700 rounded-full flex items-center justify-center mx-auto mb-2 shadow-sm">
          <i data-lucide="shield" class="w-8 h-8"></i>
        </div>
        <h2 class="font-bold text-slate-800 mt-2">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙˆÙƒÙ…Ø©</h2>
      </div>
      <nav class="flex-grow p-4 space-y-2">
        <button onclick="switchTab('dashboard')" id="nav-dashboard" class="w-full flex items-center gap-3 p-3 rounded-lg font-bold sidebar-active">
          <i data-lucide="layout-grid" class="w-5 h-5"></i> Dashboard
        </button>
        <button onclick="switchTab('services')" id="nav-services" class="w-full flex items-center gap-3 p-3 rounded-lg font-medium sidebar-item">
          <i data-lucide="briefcase" class="w-5 h-5"></i> Ø§Ù„Ø®Ø¯Ù…Ø§Øª
        </button>
        <button onclick="switchTab('employees')" id="nav-employees" class="w-full flex items-center gap-3 p-3 rounded-lg font-medium sidebar-item">
          <i data-lucide="users-2" class="w-5 h-5"></i> Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
        </button>
        <a href="admin.html" class="w-full flex items-center gap-3 p-3 rounded-lg font-medium sidebar-item hover:bg-red-50 hover:text-red-600">
          <i data-lucide="settings-2" class="w-5 h-5"></i> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        </a>
      </nav>
      <div class="p-4 border-t border-slate-100">
        <button onclick="exitSystem()" class="w-full flex items-center gap-3 p-3 rounded-lg text-red-500 hover:bg-red-50 transition-colors text-sm font-bold">
          <i data-lucide="log-out" class="w-4 h-4"></i> Ø®Ø±ÙˆØ¬
        </button>
      </div>
    </aside>

    <main class="flex-1 flex flex-col bg-slate-50 overflow-hidden relative main-content">
      <div class="flex-1 overflow-y-auto scroll-smooth">

        <div id="tab-dashboard" class="fade-in">
          <header class="bg-white border-b border-slate-200 p-4 flex flex-col xl:flex-row justify-between items-center gap-4 shadow-sm sticky top-0 z-30">
            <div>
              <h2 class="text-xl font-bold text-slate-800 flex items-center gap-2">
                <i data-lucide="activity" class="text-teal-600"></i> Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
              </h2>
              <p class="text-xs text-slate-500 font-bold mt-1" id="filter-status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
            </div>
            
            <div class="bg-white border border-slate-200 p-1 rounded-xl flex gap-2 items-center flex-wrap shadow-sm">
              <div class="flex items-center gap-1 px-2 border-l border-slate-200">
                <i data-lucide="calendar" class="w-4 h-4 text-slate-400"></i>
                <select id="year-select" class="outline-none bg-transparent font-bold text-slate-700 text-sm py-1">
                  <option value="2027">2027</option>
                  <option value="2026">2026</option>
                  <option value="2025" selected>2025</option>
                  <option value="2024">2024</option>
                </select>
              </div>
              <div class="flex items-center gap-1 px-2">
                <i data-lucide="filter" class="w-4 h-4 text-slate-400"></i>
                <select id="filter-type" class="outline-none bg-transparent font-bold text-slate-700 text-sm py-1" onchange="toggleInputs()">
                  <option value="current">Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</option>
                  <option value="all">Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©</option>
                  <option value="Q1">Q1</option>
                  <option value="Q2">Q2</option>
                  <option value="Q3">Q3</option>
                  <option value="Q4">Q4</option>
                  <option value="month">Ø´Ù‡Ø± Ù…Ø­Ø¯Ø¯</option>
                  <option value="custom">ÙØªØ±Ø© Ù…Ø®ØµØµØ©</option>
                </select>
              </div>
              <div id="month-input" class="hidden-section px-2 border-r border-slate-200">
                <select id="month-select" class="outline-none bg-transparent font-bold text-slate-700 text-sm py-1">
                  <option value="0">ÙŠÙ†Ø§ÙŠØ±</option>
                  <option value="1">ÙØ¨Ø±Ø§ÙŠØ±</option>
                  <option value="2">Ù…Ø§Ø±Ø³</option>
                  <option value="3">Ø£Ø¨Ø±ÙŠÙ„</option>
                  <option value="4">Ù…Ø§ÙŠÙˆ</option>
                  <option value="5">ÙŠÙˆÙ†ÙŠÙˆ</option>
                  <option value="6">ÙŠÙˆÙ„ÙŠÙˆ</option>
                  <option value="7">Ø£ØºØ³Ø·Ø³</option>
                  <option value="8">Ø³Ø¨ØªÙ…Ø¨Ø±</option>
                  <option value="9">Ø£ÙƒØªÙˆØ¨Ø±</option>
                  <option value="10">Ù†ÙˆÙÙ…Ø¨Ø±</option>
                  <option value="11">Ø¯ÙŠØ³Ù…Ø¨Ø±</option>
                </select>
              </div>
              <div id="date-range" class="hidden-section px-2 flex gap-2 border-r border-slate-200">
                <input type="date" id="d-start" class="border rounded px-1 text-sm">
                <input type="date" id="d-end" class="border rounded px-1 text-sm">
              </div>
              <button onclick="applyFilter()" class="bg-teal-600 text-white px-4 py-1 rounded-lg text-sm font-bold hover:bg-teal-700">
                <i data-lucide="search" class="w-4 h-4"></i>
              </button>
            </div>
          </header>

          <div class="p-6 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-5">
              <div class="stat-card border-b-4 border-teal-600">
                <p class="text-slate-500 text-xs font-bold uppercase">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙŠÙØ§Øª</p>
                <h3 id="v-total" class="text-4xl font-black text-slate-800 mt-2">...</h3>
              </div>
              <div class="stat-card border-b-4 border-emerald-500">
                <p class="text-slate-500 text-xs font-bold uppercase">ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</p>
                <h3 id="v-done" class="text-4xl font-black text-emerald-600 mt-2">...</h3>
              </div>
              <div class="stat-card border-b-4 border-amber-500">
                <p class="text-slate-500 text-xs font-bold uppercase">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„</p>
                <h3 id="v-prog" class="text-4xl font-black text-amber-500 mt-2">...</h3>
              </div>
              <div class="stat-card border-b-4 border-red-500 bg-red-50">
                <p class="text-red-500 text-xs font-bold uppercase">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª (ÙƒÙ„ÙŠ)</p>
                <h3 id="v-late" class="text-4xl font-black text-red-600 mt-2">...</h3>
              </div>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
              <div class="p-6 border-b border-slate-100 flex items-center gap-2 bg-slate-50/50">
                <i data-lucide="users" class="text-teal-600"></i>
                <h3 class="font-bold text-slate-800">ØªØ­Ù„ÙŠÙ„ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-right">
                  <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                    <tr>
                      <th class="p-5">Ø§Ù„Ù…ÙˆØ¸Ù</th>
                      <th class="p-5">Ù…ØµØ§Ø¯Ø± Ø§Ù„ØªÙƒÙ„ÙŠÙ</th>
                      <th class="p-5 text-center">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø±Ø¹Ø©</th>
                      <th class="p-5 text-center">Ø§Ù„ØªÙƒÙ„ÙŠÙØ§Øª</th>
                      <th class="p-5 text-center">Ù…Ù†Ø¬Ø²</th>
                      <th class="p-5 text-center">Ù…ØªØ¨Ù‚ÙŠ</th>
                      <th class="p-5 w-1/4">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</th>
                    </tr>
                  </thead>
                  <tbody id="table-rows" class="divide-y divide-slate-100 text-sm font-medium"></tbody>
                </table>
              </div>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
              <div class="p-6 border-b border-slate-100 flex items-center gap-2 bg-slate-50/50">
                <i data-lucide="building-2" class="text-blue-600"></i>
                <h3 class="font-bold text-slate-800">Ù…ÙˆÙ‚Ù Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø®Ø§Ø¶Ø¹Ø© Ù„Ù„Ø±Ù‚Ø§Ø¨Ø©</h3>
              </div>
              <div class="overflow-x-auto max-h-96">
                <table class="w-full text-right">
                  <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold sticky top-0">
                    <tr>
                      <th class="p-4">Ø§Ù„Ø¬Ù‡Ø© / Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</th>
                      <th class="p-4 text-center">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹Ø§Øª</th>
                      <th class="p-4 text-center">Ù‚ÙŠØ¯ Ø§Ù„ÙØ­Øµ</th>
                      <th class="p-4 text-center">Ù…ØªØ£Ø®Ø±</th>
                      <th class="p-4 text-center">Ù†Ø³Ø¨Ø© Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª</th>
                    </tr>
                  </thead>
                  <tbody id="entity-rows" class="divide-y divide-slate-100 text-sm font-medium"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div id="tab-services" class="hidden-section fade-in p-6">
          <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
            <i data-lucide="briefcase" class="text-teal-600"></i> Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <a href="https://forms.gle/A68F79PpJXHsfzXS9" target="_blank" class="service-card group">
              <div class="icon-box bg-blue-50 text-blue-600"><i data-lucide="building-2"></i></div>
              <div><h3 class="font-bold text-slate-800">Ù…Ø±ÙˆØ± Ù…Ø³ØªØ´ÙÙŠØ§Øª</h3></div>
            </a>
            <a href="https://forms.gle/49ku3m4hAjqnqxKE6" target="_blank" class="service-card group">
              <div class="icon-box bg-emerald-50 text-emerald-600"><i data-lucide="building"></i></div>
              <div><h3 class="font-bold text-slate-800">Ù…Ø±ÙˆØ± ÙˆØ­Ø¯Ø§Øª</h3></div>
            </a>
            <a href="https://forms.gle/UWAYWbRKhx753Ddc9" target="_blank" class="service-card group">
              <div class="icon-box bg-violet-50 text-violet-600"><i data-lucide="wallet"></i></div>
              <div><h3 class="font-bold text-slate-800">Ù…Ø±ÙˆØ± Ù…Ø§Ù„ÙŠ</h3></div>
            </a>
            <a href="https://forms.gle/MdqjBxbYcdiuR2NG9" target="_blank" class="service-card group">
              <div class="icon-box bg-amber-50 text-amber-600"><i data-lucide="file-warning"></i></div>
              <div><h3 class="font-bold text-slate-800">ÙØ­Øµ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰</h3></div>
            </a>
            <a href="https://forms.gle/gqyJvmhZHeggeYLV7" target="_blank" class="service-card group">
              <div class="icon-box bg-teal-50 text-teal-600"><i data-lucide="arrow-right-left"></i></div>
              <div><h3 class="font-bold text-slate-800">ØµØ§Ø¯Ø± ÙˆÙˆØ§Ø±Ø¯</h3></div>
            </a>
          </div>
        </div>

        <div id="tab-employees" class="hidden-section fade-in p-6 flex flex-col items-center justify-center min-h-[500px]">
          
          <div id="emp-login-form" class="bg-white p-8 rounded-2xl shadow-lg max-w-md w-full text-center border border-slate-100">
            <i data-lucide="lock" class="w-16 h-16 mx-auto mb-4 text-violet-500 bg-violet-50 p-3 rounded-full"></i>
            <h3 class="text-xl font-bold mb-2 text-slate-800">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ÙˆØ¸Ù</h3>
            <p class="text-slate-500 mb-6 text-sm">Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø±ÙˆØ± (PIN)</p>
            <input type="password" id="emp-pin-input" placeholder="****" maxlength="4" class="bg-slate-50 border border-slate-200 text-center text-2xl tracking-widest rounded-lg w-full p-3 mb-4 outline-none focus:border-violet-500">
            <button onclick="handleLogin()" class="bg-violet-600 hover:bg-violet-700 text-white w-full py-3 rounded-lg font-bold transition-colors">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <p id="emp-error" class="text-red-500 text-xs mt-3 hidden-section font-bold"></p>
          </div>
  
          <div id="emp-profile-view" class="hidden-section w-full max-w-7xl">
            
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mb-6 flex items-center gap-4">
              <div class="w-16 h-16 bg-violet-100 text-violet-600 rounded-full flex items-center justify-center text-2xl font-bold">
                <i data-lucide="user"></i>
              </div>
              <div>
                <h2 class="text-2xl font-bold text-slate-800" id="profile-name">...</h2>
                <p class="text-slate-500" id="profile-role">...</p>
              </div>
              <button onclick="logout()" class="mr-auto text-red-500 font-bold text-sm bg-red-50 px-4 py-2 rounded-lg hover:bg-red-100 transition-colors">Ø®Ø±ÙˆØ¬</button>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
              <div class="overview-card overview-new"><h4>ğŸ“¥ Ø¬Ø¯ÙŠØ¯</h4><div class="count" id="stat-new">0</div></div>
              <div class="overview-card overview-progress"><h4>â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°</h4><div class="count" id="stat-progress">0</div></div>
              <div class="overview-card overview-late"><h4>ğŸš¨ Ù…ØªØ£Ø®Ø±</h4><div class="count" id="stat-late">0</div></div>
              <div class="overview-card overview-done"><h4>âœ… Ù…Ù†Ø¬Ø²</h4><div class="count" id="stat-done">0</div></div>
            </div>

            <div class="main-tabs">
              <div class="main-tab-btn active" id="main-tab-new" onclick="switchMainTab('new')">
                <i data-lucide="inbox" class="w-5 h-5"></i> ğŸ“¥ Ø§Ù„ÙˆØ§Ø±Ø¯
              </div>
              <div class="main-tab-btn" id="main-tab-progress" onclick="switchMainTab('progress')">
                <i data-lucide="loader" class="w-5 h-5"></i> â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°
              </div>
              <div class="main-tab-btn" id="main-tab-late" onclick="switchMainTab('late')">
                <i data-lucide="alert-triangle" class="w-5 h-5"></i> ğŸš¨ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª
              </div>
              <div class="main-tab-btn" id="main-tab-history" onclick="switchMainTab('history')">
                <i data-lucide="archive" class="w-5 h-5"></i> ğŸ—‚ï¸ Ø§Ù„Ø³Ø¬Ù„ ÙˆØ§Ù„Ø£Ø±Ø´ÙŠÙ
              </div>
            </div>

            <div id="content-new">
              <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i data-lucide="sparkles" class="text-blue-500"></i> Ø§Ù„ØªÙƒÙ„ÙŠÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
              </h3>
              <div id="cards-new" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
            </div>

            <div id="content-progress" class="hidden-section">
              <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i data-lucide="timer" class="text-amber-500"></i> Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø¬Ø§Ø±ÙŠØ©
              </h3>
              <div id="cards-progress" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
            </div>

            <div id="content-late" class="hidden-section">
              <h3 class="text-lg font-bold text-red-700 mb-4 flex items-center gap-2">
                <i data-lucide="alert-octagon" class="text-red-600"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
              </h3>
              <div class="overdue-table bg-white">
                <table class="w-full text-right">
                  <thead>
                    <tr>
                      <th class="p-4">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</th>
                      <th class="p-4">Ø§Ù„Ù…ØµØ¯Ø±</th>
                      <th class="p-4">Ø§Ù„Ø¬Ù‡Ø©</th>
                      <th class="p-4 text-center">ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØ±ÙˆØ¯</th>
                      <th class="p-4 text-center">Ù…Ø¯Ø© Ø§Ù„ØªØ£Ø®ÙŠØ±</th>
                      <th class="p-4 text-center">Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª</th>
                    </tr>
                  </thead>
                  <tbody id="table-late" class="text-sm font-medium"></tbody>
                </table>
              </div>
            </div>

            <div id="content-history" class="hidden-section">
              <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i data-lucide="folder-open" class="text-slate-600"></i> Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ø£Ø±Ø´ÙŠÙ
              </h3>
              <div class="history-filters bg-white p-4 rounded-xl border border-slate-200 mb-4">
                <span class="filter-label">ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨:</span>
                <select id="history-year" class="filter-select">
                  <option value="2027">2027</option>
                  <option value="2026">2026</option>
                  <option value="2025">2025</option>
                  <option value="2024">2024</option>
                </select>
                <select id="history-month" class="filter-select">
                  <option value="">ÙƒÙ„ Ø§Ù„Ø´Ù‡ÙˆØ±</option>
                  <option value="1">ÙŠÙ†Ø§ÙŠØ±</option>
                  <option value="2">ÙØ¨Ø±Ø§ÙŠØ±</option>
                  <option value="3">Ù…Ø§Ø±Ø³</option>
                  <option value="4">Ø£Ø¨Ø±ÙŠÙ„</option>
                  <option value="5">Ù…Ø§ÙŠÙˆ</option>
                  <option value="6">ÙŠÙˆÙ†ÙŠÙˆ</option>
                  <option value="7">ÙŠÙˆÙ„ÙŠÙˆ</option>
                  <option value="8">Ø£ØºØ³Ø·Ø³</option>
                  <option value="9">Ø³Ø¨ØªÙ…Ø¨Ø±</option>
                  <option value="10">Ø£ÙƒØªÙˆØ¨Ø±</option>
                  <option value="11">Ù†ÙˆÙÙ…Ø¨Ø±</option>
                  <option value="12">Ø¯ÙŠØ³Ù…Ø¨Ø±</option>
                </select>
                <button onclick="applyHistoryFilter()" class="filter-btn">ØªØ·Ø¨ÙŠÙ‚</button>
              </div>

              <div class="mb-6">
                <h4 class="text-md font-bold text-emerald-700 mb-3 flex items-center gap-2">
                  <i data-lucide="check-circle" class="w-5 h-5"></i> Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù†Ø¬Ø²Ø©
                </h4>
                <div id="cards-done" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
              </div>

              <div>
                <h4 class="text-md font-bold text-slate-700 mb-3 flex items-center gap-2">
                  <i data-lucide="file-text" class="w-5 h-5"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¤Ø±Ø´ÙØ©
                </h4>
                <div class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                  <div class="overflow-x-auto max-h-[400px]">
                    <table class="w-full text-right text-sm">
                      <thead class="bg-slate-100 text-slate-600 sticky top-0 font-bold">
                        <tr>
                          <th class="p-3">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                          <th class="p-3">Ø§Ù„Ù†ÙˆØ¹</th>
                          <th class="p-3">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ / Ø§Ù„Ø¬Ù‡Ø©</th>
                          <th class="p-3 text-center">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                      </thead>
                      <tbody id="reports-rows" class="divide-y divide-slate-100 text-sm"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        
      </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav" style="display: none;">
      <button onclick="switchTab('dashboard')" id="bottom-nav-dashboard" class="active">
        <i data-lucide="layout-grid" class="w-6 h-6"></i>
        <span>Dashboard</span>
      </button>
      <button onclick="switchTab('services')" id="bottom-nav-services">
        <i data-lucide="briefcase" class="w-6 h-6"></i>
        <span>Ø§Ù„Ø®Ø¯Ù…Ø§Øª</span>
      </button>
      <button onclick="switchTab('employees')" id="bottom-nav-employees">
        <i data-lucide="users-2" class="w-6 h-6"></i>
        <span>Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</span>
      </button>
      <button onclick="window.location.href='index.html'">
        <i data-lucide="home" class="w-6 h-6"></i>
        <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
      </button>
    </nav>

  </div>

  <div id="loader" class="fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center hidden-section">
    <div class="w-16 h-16 border-4 border-teal-600 border-t-transparent rounded-full animate-spin mb-4"></div>
    <p class="font-bold text-teal-800 text-lg">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„...</p>
  </div>

  <script src="assets/js/main.js"></script>
  <script>
    lucide.createIcons();
    
    // Check URL hash for direct tab access
    window.addEventListener('load', () => {
      const hash = window.location.hash.substring(1);
      if (hash && ['dashboard', 'services', 'employees'].includes(hash)) {
        switchTab(hash);
      } else {
        applyFilter();
      }
    });
  </script>
</body>
</html>
